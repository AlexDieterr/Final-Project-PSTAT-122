---
title: 'Final Project'
subtitle: "PSTAT122: Design and Analysis of Experiments" 

author:
  - name: "Fall 2025"
   # affiliations:
    #  - name: "Fall 2025"
affiliation-title: "Quarter"
format: 
 pdf:
    code-fold: true
    code-line-numbers: true
    code-copy: true
    code-tools: true
    self-contained: true
    toc: false
    toc-location: left
    number-sections: true
    geometry: margin=.5in
    indent: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message =  FALSE)
knitr::opts_chunk$set(warning =  FALSE)
knitr::opts_chunk$set(error =  FALSE)

```

:::: callout
::: {style="text-align: center"}
[ **STUDENT NAME** ]{style="color: blue;"}
:::

-   Alex Dieter (A070X06)
-   Ayden Kelleher (7874209)
-   Darren Tran (A1H9J10)
-   Peyton Lynch (A09Y96)
::::

::: callout-caution
# Due Date

**Due Date:** Monday, December 8, 2025, 11:59 PM
:::

# Introduction

Reaction time is very important for many activities; sports, video games, avoiding injuries, and much more. However, the factors that influence ones reaction times are not very well known. What we are looking to find are what influences someones reaction time. What we intend to discover are the things that influence someones reaction time with common factors, namely whether or not you are listening to music, whether or not the lights are on or off, and whether you are using your dominant or non dominant hand. We will figure out which of these factors truly influence reaction time, and if there is any interaction.

# Experimental Design

Our experiment will be a $2^3$ factorial experiment with blocks on what impacts reaction times, and how those factors interact. Our 3 factors will be the whether or not lights are on or off, whether or not you are listening to music, and whether or not you are using your dominant or non dominant hand. The way we will apply these treatments is by running our tests while the lights are on/off, whether or not the person being tested is listening to music, and have the person use their dominant or non dominant hand.

We are measuring reaction time, through the following website, \newline `https://humanbenchmark.com/tests/reactiontime`. The way this website works is the screen changes color and you press the mouse as fast as you can after the screen color changes, and it records the time it takes to click. For each click you get one recorded time, so for each set of factors, we will do 5 tests and then record the mean.  We will conduct the whole test once, recording each individual reaction test as an experimental unit, so we have a better idea of the variance of the data. After some quick preliminary testing while choosing which website to use, we found that it takes less than 30 seconds to run through 5 experimental units, which means our testing should be quick, in accordance to the project guidelines.

All of our factors will be fixed, since each factor contains each of the possible factors in that category. There is not a population of factors we are drawing from. Lights can be on or off, you can be using your dominant or non-dominant hand, and the tests can be conducted while the person is and isn't listening to music.

First, we will randomly order each of the treatments using code snippet 1 (7.1). The way this code works is it takes a random sample without replacement, which effectively gives us a random ordering of the tests. We will do this for each person, who will each be a block.

The way our experiment will use replication is very simple. The website we are using to track our reaction times administers 5 tests and then returns the mean. Our experimental unit will be the time it takes for one individual click. This means each test we get 5 replications per factor. We will do these replications back to back.

Our blocks will be different people. Our group consists of 4 people, so we will each be a block. Thus for each combination of treatments and blocks, we get 5 replicates.

-   Sample size: Provide number of observations per condition. Guideline: 5–10 per treatment for CRD, 3–5 blocks for RCBD, total feasible within 1 hour.


# Data Collection
We collected all of our data on the same day, with each of us doing the experiment in our own rooms. Everyone used their own laptop and mouse, but we made sure the room was quiet before starting. To get used to the Human Benchmark test, we each did five practice clicks in a normal setting with no factors applied.

After the warm-up, we followed the randomized order from Snippet 1. For every combination of music on/off, lights on/off, and dominant/weak hand, we ran Human Benchmark five separate times. Each run gave us one reaction time in milliseconds, so we ended up with five observations for each treatment combination.

We didn’t run into any errors or bad trials, so we didn’t have to repeat anything. Once we finished all of the runs, we entered the reaction times into R using the data-entry function in the Appendix. Each row of the dataset represents one run, along with the subject, the factor levels, and the replicate number. This gave us a full dataset with 160 observations that we used for the exploratory plots and ANOVA.



# Analysis


-   **Hypothesis Testing**: Test your hypothesis with an appropriate statistical test (e.g., ANOVA).

-   **Tables, Figures, & Code**: Include key results (ANOVA table, post-test) and relevant `R` code excerpts where needed.

-   Use `R` to analyze the data.

# Conclusions

-   Summarize key findings.
-   Comment on limitations and possible improvements.

# References

https://humanbenchmark.com/tests/reactiontime

# Appendices

-   `R` code.

## Snippet 1

```{r}
set.seed(12032025)
comboOfFactors <- c('Quiet&Dark&DomHand', 'Music&Dark&DomHand',
                    'Quiet&Dark&WeakHand','Music&Dark&WeakHand',
                    'Quiet&Light&DomHand','Music&Light&DomHand',
                    'Quiet&Light&WeakHand','Music&Light&WeakHand')
Person1 <- sample(comboOfFactors, size = 8)
Person2 <- sample(comboOfFactors, size = 8)
Person3 <- sample(comboOfFactors, size = 8)
Person4 <- sample(comboOfFactors, size = 8)

cat('Alex will test in the following order\n', Person1[c(1,2,3,4)], '\n', Person1[c(5,6,7,8)],'\n')
cat('\nAyden will test in the following order\n', Person2[c(1,2,3,4)], '\n', Person2[c(5,6,7,8)],'\n')
cat('\nDarren will test in the following order\n', Person3[c(1,2,3,4)], '\n', Person3[c(5,6,7,8)],'\n')
cat('\nPeyton will test in the following order\n', Person4[c(1,2,3,4)], '\n', Person4[c(5,6,7,8)],'\n')

```

```{r}
library(dplyr)

subjects     <- c("Alex", "Ayden", "Darren", "Peyton")
music_levels <- c("quiet", "music")
lights_lvls  <- c("dark", "light")
hand_levels  <- c("dom", "weak")

# 3-factor 2x2x2 × 4 subjects × 5 reps
df <- expand.grid(
  subject = subjects,
  music   = music_levels,
  lights  = lights_lvls,
  hand    = hand_levels,
  rep     = 1:5          # 5 runs per combo
) %>%
  arrange(subject)

# column where you'll put the reaction times
df$time_ms <- NA_real_
```

```{r}
#This is the function so we can enter in all of our data easily
enter_times <- function(name, music, lights, hand, times) {
  df$time_ms[df$subject==name &
             df$music==music &
             df$lights==lights &
             df$hand==hand] <<- times
}

# Alex's Data
enter_times("Alex", "music", "light", "weak", c(265, 217, 219, 261, 260))
enter_times("Alex", "quiet", "dark",  "weak", c(250, 271, 259, 202, 216))
enter_times("Alex", "quiet", "light", "dom",  c(207, 206, 203, 126, 189))
enter_times("Alex", "music", "dark",  "weak", c(181, 236, 194, 215, 214))
enter_times("Alex", "music", "light", "dom",  c(197, 189, 97, 200, 181))
enter_times("Alex", "music", "dark",  "dom",  c(197, 147, 96, 194, 201))
enter_times("Alex", "quiet", "light", "weak", c(214, 183, 241, 87, 221))
enter_times("Alex", "quiet", "dark",  "dom",  c(212, 202, 203, 187, 159))

# Ayden's Data
enter_times("Ayden", "quiet", "dark",  "weak", c(223, 245, 235, 226, 236))
enter_times("Ayden", "music", "dark",  "weak", c(226, 233, 229, 235, 233))
enter_times("Ayden", "music", "light", "dom",  c(220, 231, 275, 226, 238))
enter_times("Ayden", "quiet", "light", "weak", c(252, 219, 218, 243, 235))
enter_times("Ayden", "music", "light", "weak", c(226, 255, 247, 228, 242))
enter_times("Ayden", "quiet", "light", "dom",  c(226, 338, 227, 196, 245))
enter_times("Ayden", "quiet", "dark",  "dom",  c(224, 232, 223, 230, 231))
enter_times("Ayden", "music", "dark",  "dom",  c(220, 241, 238, 257, 234))

# Darren's Data
enter_times("Darren", "quiet", "dark",  "weak", c(269, 264, 272, 274, 253))
enter_times("Darren", "music", "dark",  "weak", c(130, 290, 273, 289, 291))
enter_times("Darren", "music", "light", "dom",  c(247, 230, 118, 260, 232))
enter_times("Darren", "music", "light", "weak", c(228, 251, 270, 261, 275))
enter_times("Darren", "quiet", "light", "weak", c(290, 268, 260, 245, 271))
enter_times("Darren", "quiet", "dark",  "dom",  c(267, 265, 248, 231, 259))
enter_times("Darren", "music", "dark",  "dom",  c(271, 293, 307, 260, 275))
enter_times("Darren", "quiet", "light", "dom",  c(223, 215, 221, 229, 253))

# Peyton's Data
enter_times("Peyton", "music", "light", "weak", c(272, 265, 279, 236, 312))
enter_times("Peyton", "music", "light", "dom",  c(287, 243, 265, 229, 259))
enter_times("Peyton", "quiet", "dark",  "weak", c(222, 329, 233, 289, 278))
enter_times("Peyton", "quiet", "light", "dom",  c(228, 249, 295, 264, 232))
enter_times("Peyton", "music", "dark",  "dom",  c(252, 229, 243, 250, 239))
enter_times("Peyton", "quiet", "dark",  "dom",  c(223, 226, 238, 218, 217))
enter_times("Peyton", "music", "dark",  "weak", c(228, 243, 291, 220, 312))
enter_times("Peyton", "quiet", "light", "weak", c(260, 261, 275, 249, 258))

```

After collecting all of the reaction time measurements and entering them into R, we summarized the data by computing the mean and standard deviation for each of the eight treatment combinations (Music × Lights × Hand). This gives a quick overview of how reaction times behaved across the different conditions. The table below shows the average reaction time (in milliseconds) and the variability across the five replicates for each treatment:
```{r}
library(dplyr)

summary_table <- df %>%
  dplyr::group_by(music, lights, hand) %>%
  dplyr::summarise(
    mean_time = mean(time_ms),
    sd_time   = sd(time_ms)
  )

summary_table
```
Overall, reaction times varied quite a bit across conditions. In general, the weak hand tended to be slower than the dominant hand in most settings, which matches what we expected. Music and lighting also seemed to influence the results, but the direction of the effect wasn’t immediately clear from the raw means alone. We use these summaries mainly to get a sense of the patterns in the data before moving on to the formal ANOVA in the analysis section.

```{r}
library(ggplot2)

# Boxplot by Hand
ggplot(df, aes(x = hand, y = time_ms)) +
  geom_boxplot() +
  labs(title = "Reaction Time by Hand",
       x = "Hand Used",
       y = "Reaction Time (ms)")

# Boxplot by Music
ggplot(df, aes(x = music, y = time_ms)) +
  geom_boxplot() +
  labs(title = "Reaction Time by Music Condition",
       x = "Music",
       y = "Reaction Time (ms)")

# Boxplot by Lights
ggplot(df, aes(x = lights, y = time_ms)) +
  geom_boxplot() +
  labs(title = "Reaction Time by Lighting Condition",
       x = "Lights",
       y = "Reaction Time (ms)")

# Interaction Plot: Hand × Music
ggplot(df, aes(x = hand, y = time_ms, color = music, group = music)) +
  stat_summary(fun = mean, geom = "line") +
  stat_summary(fun = mean, geom = "point") +
  labs(title = "Interaction Plot: Hand × Music")

# Interaction Plot: Hand × Lights
ggplot(df, aes(x = hand, y = time_ms, color = lights, group = lights)) +
  stat_summary(fun = mean, geom = "line") +
  stat_summary(fun = mean, geom = "point") +
  labs(title = "Interaction Plot: Hand × Lights")

```


Exploratory Data

To get a first look at our data, we made several boxplots for each factor and a set of interaction plots. The boxplot for hand (dominant vs. weak) showed the clearest difference. The weak hand had noticeably slower reaction times on average, and the spread was larger. This matched what we expected, since most people are less coordinated with their non-dominant hand.

For the music factor, the boxplots for “quiet” and “music” looked fairly similar overall. The medians were close, and both conditions had a few outliers. There might still be a small effect, but it wasn’t obvious just from the boxplots. The lighting factor (dark vs. light) showed a similar pattern. There were slight differences between the medians, but nothing significant.

We also made interaction plots to check whether the factors influenced each other. The hand × music plot showed two lines that were almost parallel, meaning music probably doesn’t change the effect of hand very much. The hand × lights plot looked similar, with only small differences between the light and dark conditions. All of the lines went up from dominant to weak hand, which lines up with the boxplots.

Overall, the exploratory graphs suggested that the hand factor has the strongest effect, while music and lighting might have smaller or weaker effects. The interaction plots didn’t show any major crossings, so any interactions are likely to be small. These patterns helped us get a feel for the data before running the formal ANOVA.